<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

    <title>Stop Loss Calculator</title>
  </head>
  <body>
    <h5 class="m-3">Stop Loss Calculator</h5>

    <div class="m-3">
        <label for="exampleFormControlInput1" class="form-label">Original Price:</label>
        <input type="number" class="form-control" id="ori" placeholder="50">
    </div>

    <div class="m-3">
        <label for="exampleFormControlInput1" class="form-label">Profit Percent:</label>
        <input type="number" class="form-control" id="percent" value="0.07">
    </div>

    <button id="calc" class="btn btn-primary m-3">Calculate</button>
    <h3 id="ans" class="m-3"></h3>


    <hr>


    <h5 class="m-3">ATR Calculator</h5>

    <div class="m-3">
        <label for="exampleFormControlInput1" class="form-label">Original Price:</label>
        <input type="number" class="form-control" id="ori_atr" placeholder="50">
    </div>

    <div class="m-3">
        <label for="exampleFormControlInput1" class="form-label">ATR Value:</label>
        <input type="number" class="form-control" id="atr" value="0.3">
    </div>

    <button id="calc_atr" class="btn btn-primary m-3">Calculate</button><br>
    <span>ATAS = </span><span id="ans_atr_tambah" class="m-3"></span><br>
    <span>BAWAH = </span><span id="ans_atr_tolak" class="m-3"></span>

    <hr>


    <script>
        function formula(ori, percent){
            let stop_loss = ((percent)*(ori)/100)+ori;
            return stop_loss;
        }

        function tambah(ori_atr, atr){
            let jwpn = ori_atr + atr;
            return jwpn;
        }

        function tolak(ori_atr, atr){
            let jwpn = ori_atr - atr;
            return jwpn;
        }

        $( "#calc" ).click(function() {
            let ori = $('#ori').val();
            let percent = $('#percent').val();
            
            let ans = formula(parseFloat(ori),parseFloat(percent));
            console.log(ans);
            let output = $('#ans').html(ans);
        });

        $( "#calc_atr" ).click(function() {
            let ori = $('#ori_atr').val();
            let percent = $('#atr').val();
            
            let ans_tambah = tambah(parseFloat(ori),parseFloat(percent));
            let ans_tolak = tolak(parseFloat(ori),parseFloat(percent));
            console.log('atr_tambah = '+ ans_tambah);
            console.log('atr_tolak = '+ ans_tolak);
            let output_tambah = $('#ans_atr_tambah').html(ans_tambah);
            let output_tolak = $('#ans_atr_tolak').html(ans_tolak);
        });
        
    </script>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
  </body>
</html>
